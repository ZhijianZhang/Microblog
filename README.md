# Microblog

这是一个使用Nodejs进行Web开发的例子，模仿微博的大体功能。

The Microblog is an example for web developer used by nodejs

## 功能分析

首先，微博应该以用户为中心，因此需要有用户的注册和登录功能。微博最核心的功能是信息的发表，这个功能涉及许多方面，包括数据库的访问，前端显示等。

## 路由规划

路由规划，或者说控制器规划是整个网站的骨架部分，因为它处于整个架构的枢纽位置，相当于各个接口之间的粘合剂，所以应该优先考虑。

- / 首页
- /u/[user] 用户的主页
- /post 发表信息
- /reg 用户注册
- /login 用户登录
- /logout 用户登出

以上页面还可以根据用户状态细分。发表信息以及用户登出页面必须是已登录用户才能操作的功能，而用户注册和用户登入所有面向的对象都是未登入的用户。首页和用户主页则针对已登入和未登入的用户显示不同的内容。


## 会话支持
会话是一种持久的网络协议，用于完成服务器和客户端之间的一些交互行为。一个会话可能包含多次连接，每次连接都被认为是会话的一次操作。在网络应用中，有必要实现会话以帮助用户交互。如网上购物的场景，用户浏览了个页面，购买了一些物品，这些请求在多次连接中完成。

为了在无状态的http协议之上实现会话，cookie诞生。cookie是一些存储在客户端的信息，每次连接的时候由浏览器向服务器递交，服务器也向浏览器发起存储cookie的请求，依靠这样的手段服务器可以识别客户端。